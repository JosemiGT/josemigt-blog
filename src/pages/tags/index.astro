---
import Tag from "../../components/Tag.astro";
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const pageTitle = "CategorÃ­as";

const allPosts = await getCollection("posts");
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())];
---
<BaseLayout pageTitle={pageTitle}>
  <p>
    Navega entre los posts categorizados por los temas disponibles.
  </p>
  <div class="tags">
    {tags.map((tag) => (
      <Tag tag={tag}></Tag>
    ))}
  </div>
</BaseLayout>

<style>
.tags {
  display: flex;
  flex-wrap: wrap;
}
</style>